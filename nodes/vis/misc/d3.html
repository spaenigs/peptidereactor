<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <title>Selection .each</title>
</head>

<style>
    body {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 14px;
        color: #333;
    }

    circle {
        fill: #ddd;
        cursor: pointer;
    }
    div.tooltip {
    position: absolute;
    text-align: center;
    width: 60px;
    height: 28px;
    padding: 2px;
    font: 12px sans-serif;
    background: lightsteelblue;
    border: 0px;
    border-radius: 8px;
    pointer-events: none;
}
</style>

<body>
<div id="tree"></div>
<div id="tooltip"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
<script>
    let xmlSVG = null;
    let svg = null;
    let htmlSVG = null;
    d3.xml("mytree.svg", (error, xml) => {
        htmlSVG = document.getElementById('tree');  // the svg-element in our HTML file
        htmlSVG.appendChild(xml.documentElement);
        svg = d3.select(htmlSVG);
        let div = d3.select("body").append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);
        svg.selectAll("circle").each(function (d, i) {
            var odd = i % 2 === 1;
            d3.select(this)
                .style('fill', odd ? 'orange' : '#ddd')
        }).on("mouseover", function (d, i) {
            div.transition()
                .duration(200)
                .style("opacity", .9);
            div.html("asd<br/>")
                .style("left", (d3.event.pageX) + "px")
                .style("top", (d3.event.pageY - 28) + "px");
        }).on("mouseout", function (d) {
            div.transition()
                .duration(500)
                .style("opacity", 0);
        })
        // .attr('r', odd ? 4 : 2);

    });
</script>
</body>
</html>