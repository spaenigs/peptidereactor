db: "/media/spaenigs/4B1DB7375F3291A1/uniprot_db/uniref90"

nodes:

  sequence_length_distribution:
    path: "nodes/plots/sequence_length_distribution"
    input:
      fasta: "*.fasta"
      classes: "*_classes.txt"
      fasta_ds1: "*_ds1.fasta"
      fasta_ds2: "*_ds2.fasta"
      classes_ds1: "*_ds1_classes.txt"
      classes_ds2: "*_ds2_classes.txt"
    output:
      svg: "*_length_distribution.svg"

  split_normalize:
    path: "nodes/utils/split_normalize"
    input:
      fasta: "*.fasta"
      classes: "*_classes.txt"
    output:
      fasta_ds1: "*_ds1.fasta"
      fasta_ds2: "*_ds2.fasta"
      classes_ds1: "*_ds1_classes.txt"
      classes_ds2: "*_ds2_classes.txt"

  validate_sequence_names:
    path: "nodes/utils/validate_sequence_names"
    input:
      fasta: "*.fasta"
    output:
      fasta_val: "*_validated.fasta"

  multiple_sequence_alignment:
    path: "nodes/utils/multiple_sequence_alignment"
    input:
      fasta: "*_validated.fasta"
      classes: "*_classes.txt"
    output:
      fasta_msa: "*_validated_msa.fasta"

  secondary_structure_profile:
    path:
      "nodes/utils/secondary_structure_profile"
    input:
      fasta: "*_validated.fasta"
      fasta_msa: "*_validated_msa.fasta"
      classes: "*_classes.txt"
    output:
      ["*_annotated.fasta", "*_annotated_msa.fasta", "*_annotated_classes.txt",
       "*_#.asn.pssm", "*_#.dis", "*_#.flat", "*_#.horiz", "*_#.mat", "*_#.pssm",
       "*_#.spXout", "*_#.ss2"]




order:
#  - split_normalize
#  - sequence_length_distribution
  - validate_sequence_names
  - multiple_sequence_alignment
#  - secondary_structure_profile
